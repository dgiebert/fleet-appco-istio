defaultNamespace: istio-system
name: kiali
 
helm:
  releaseName: kiali
  version: 2.13.0
  chart: oci://dp.apps.rancher.io/charts/kiali
  values:
    external_services:
      prometheus:
        url: "http://rancher-monitoring-prometheus-server.cattle-monitoring-system"
        custom_metrics_url: "http://rancher-monitoring-prometheus-server.cattle-monitoring-system"
      tracing:
        use_grpc: true
        internal_url: "http://jaeger-query.istio-system:16685/jaeger"
      grafana:
        enabled: true
        auth:
          password: "gWoctt9PFWikVRxh30suKh93AmoG97BlrpIQ5wWJ"
          type: "basic"
          username: "admin"
        internal_url: "http://rancher-monitoring-grafana.cattle-monitoring-system.svc:80"
    server:
      web_root: '/k8s/clusters/${ index .ClusterLabels "management.cattle.io/cluster-name" }/api/v1/namespaces/istio-system/services/http:kiali:20001/proxy/kiali'

dependsOn:
  - selector:
      matchLabels:
        app: jaeger
  - selector:
      matchLabels:
        app: grafana